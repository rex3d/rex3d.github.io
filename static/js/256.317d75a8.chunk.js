"use strict";(self.webpackChunkrex3d_website=self.webpackChunkrex3d_website||[]).push([[256],{8921:(e,a,s)=>{s.r(a),s.d(a,{default:()=>N});var t=s(5043),r=s(5016),l=s(4210),n=s(9981),c=s(6058),i=s(5826),o=(s(6555),s(7304)),d=s(9379),m=s(579);o.t1.register(o.PP,o.kc,o.E8,o.Bs,o.FN,o.No,o.hE,o.m_,o.s$);const h=e=>{let{stats:a}=e;return(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"card admin-card text-white bg-success mb-3",children:[(0,m.jsx)("div",{className:"card-header",children:"Ca\u0142kowity doch\xf3d"}),(0,m.jsx)("div",{className:"card-body",children:(0,m.jsxs)("h5",{className:"card-title",children:[a.totalIncome.toFixed(2)," z\u0142"]})})]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"card admin-card text-white bg-danger mb-3",children:[(0,m.jsx)("div",{className:"card-header",children:"Ca\u0142kowite wydatki"}),(0,m.jsx)("div",{className:"card-body",children:(0,m.jsxs)("h5",{className:"card-title",children:[a.totalExpenses.toFixed(2)," z\u0142"]})})]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"card admin-card text-white bg-info mb-3",children:[(0,m.jsx)("div",{className:"card-header",children:"Zysk"}),(0,m.jsx)("div",{className:"card-body",children:(0,m.jsxs)("h5",{className:"card-title",children:[a.netProfit.toFixed(2)," z\u0142"]})})]})})]})},u=e=>{let{goal:a,current:s}=e;const t=Math.round(s/a*100);return(0,m.jsx)("div",{className:"card admin-card goal-tracker",children:(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("h5",{className:"card-title",children:"Cel finansowy"}),(0,m.jsx)("div",{className:"goal-progress",children:(0,m.jsx)(i.QF,{value:t,text:"".concat(t,"%"),styles:(0,i.Hf)({textColor:"#333",pathColor:"rgba(75, 192, 192, ".concat(t/100,")"),trailColor:"#d6d6d6"})})}),(0,m.jsxs)("p",{children:["Zrealizowano: ",s.toFixed(2)," z\u0142 z ",a.toFixed(2)," z\u0142"]})]})})},x=e=>{let{transactions:a}=e;const s=a.filter(e=>"expense"===e.type).reduce((e,a)=>(e[a.category]=(e[a.category]||0)+a.amount,e),{}),t={labels:Object.keys(s),datasets:[{data:Object.values(s),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40"]}]},r=a.reduce((e,a)=>{const s=new Date(a.created_at).toLocaleString("default",{month:"long",year:"numeric"});return e[s]||(e[s]={income:0,expense:0}),e[s][a.type]+=a.amount,e},{}),l={labels:Object.keys(r),datasets:[{label:"Doch\xf3d",data:Object.values(r).map(e=>e.income),borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)"},{label:"Wydatki",data:Object.values(r).map(e=>e.expense),borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)"},{label:"Netto",data:Object.values(r).map(e=>e.income-e.expense),borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)",fill:!1}]};return(0,m.jsxs)("div",{className:"row mt-4",children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsx)("div",{className:"card admin-card",children:(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("h5",{className:"card-title",children:"Wydatki wg kategorii"}),(0,m.jsx)(c.nu,{data:t})]})})}),(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsx)("div",{className:"card admin-card",children:(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("h5",{className:"card-title",children:"Dochody i wydatki w czasie"}),(0,m.jsx)(c.N1,{data:l})]})})})]})},j=e=>{let{user:a}=e;const[s,r]=(0,t.useState)([]),[n,c]=(0,t.useState)({type:"expense",description:"",amount:"",category:""}),[i,o]=(0,t.useState)({totalIncome:0,totalExpenses:0,netProfit:0}),[j,p]=(0,t.useState)(1e4),[b,g]=(0,t.useState)([]),[N,y]=(0,t.useState)({category:"",limit:""}),[v,f]=(0,t.useState)([]),[w,k]=(0,t.useState)({type:"expense",description:"",amount:"",category:"",frequency:"monthly",nextDueDate:""}),[C,z]=(0,t.useState)(!1),[_,S]=(0,t.useState)({startDate:"",endDate:""}),[D,A]=(0,t.useState)("all"),[F,E]=(0,t.useState)(null),O=(0,t.useMemo)(()=>{const e=s.map(e=>e.category).filter(Boolean);return["all",...Array.from(new Set(e))]},[s]),q=(0,t.useCallback)(async()=>{z(!0);let e=l.N.from("transactions").select("*");_.startDate&&(e=e.gte("created_at",_.startDate)),_.endDate&&(e=e.lte("created_at",_.endDate)),"all"!==D&&(e=e.eq("category",D));const{data:a,error:s}=await e.order("created_at",{ascending:!1});s?console.error("Error fetching transactions:",s):r(a),z(!1)},[_,D]),P=(0,t.useCallback)(async()=>{if(!a)return;const{data:e,error:s}=await l.N.from("budgets").select("*").eq("user_id",a.id);s?console.error("Error fetching budgets:",s):g(e)},[a]),K=(0,t.useCallback)(async()=>{if(!a)return;const{data:e,error:s}=await l.N.from("scheduled_transactions").select("*").eq("user_id",a.id);s?console.error("Error fetching scheduled transactions:",s):f(e)},[a]),W=(0,t.useCallback)(()=>{const e=s.filter(e=>"income"===e.type).reduce((e,a)=>e+a.amount,0),a=s.filter(e=>"expense"===e.type).reduce((e,a)=>e+a.amount,0);o({totalIncome:e,totalExpenses:a,netProfit:e-a})},[s]);return(0,t.useEffect)(()=>{a&&(q(),P(),K())},[a,q,P,K]),(0,t.useEffect)(()=>{s.length>0&&W()},[s,W]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"d-flex justify-content-end mb-3",children:(0,m.jsx)("button",{className:"btn btn-outline-primary",onClick:q,children:"Od\u015bwie\u017c"})}),(0,m.jsx)(h,{stats:i}),(0,m.jsx)(u,{goal:j,current:i.netProfit}),(0,m.jsx)(x,{transactions:s}),(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsxs)("div",{className:"col-md-3",children:[(0,m.jsx)("label",{htmlFor:"startDate",className:"form-label",children:"Data od"}),(0,m.jsx)("input",{type:"date",className:"form-control",id:"startDate",value:_.startDate,onChange:e=>S((0,d.A)((0,d.A)({},_),{},{startDate:e.target.value}))})]}),(0,m.jsxs)("div",{className:"col-md-3",children:[(0,m.jsx)("label",{htmlFor:"endDate",className:"form-label",children:"Data do"}),(0,m.jsx)("input",{type:"date",className:"form-control",id:"endDate",value:_.endDate,onChange:e=>S((0,d.A)((0,d.A)({},_),{},{endDate:e.target.value}))})]}),(0,m.jsxs)("div",{className:"col-md-3",children:[(0,m.jsx)("label",{htmlFor:"categoryFilter",className:"form-label",children:"Kategoria"}),(0,m.jsx)("select",{className:"form-select",id:"categoryFilter",value:D,onChange:e=>A(e.target.value),children:O.map(e=>(0,m.jsx)("option",{value:e,children:"all"===e?"Wszystkie":e},e))})]})]}),(0,m.jsx)("h5",{children:"Dodaj now\u0105 transakcj\u0119"}),(0,m.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const{type:a,description:s,amount:t,category:r}=n;if(!s||!t)return void alert("Opis i kwota s\u0105 wymagane.");const{error:i}=await l.N.from("transactions").insert([{type:a,description:s,amount:parseFloat(t),category:r}]);i?(console.error("Error inserting transaction:",i),alert("Nie uda\u0142o si\u0119 doda\u0107 transakcji.")):(c({type:"expense",description:"",amount:"",category:""}),q())},className:"row g-3 mb-4",children:[(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsxs)("select",{className:"form-select",value:n.type,onChange:e=>c((0,d.A)((0,d.A)({},n),{},{type:e.target.value})),children:[(0,m.jsx)("option",{value:"expense",children:"Wydatek"}),(0,m.jsx)("option",{value:"income",children:"Doch\xf3d"})]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsx)("input",{type:"text",className:"form-control",placeholder:"Opis",value:n.description,onChange:e=>c((0,d.A)((0,d.A)({},n),{},{description:e.target.value}))})}),(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsx)("input",{type:"number",className:"form-control",placeholder:"Kwota",value:n.amount,onChange:e=>c((0,d.A)((0,d.A)({},n),{},{amount:e.target.value}))})}),(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsx)("input",{type:"text",className:"form-control",placeholder:"Kategoria",value:n.category,onChange:e=>c((0,d.A)((0,d.A)({},n),{},{category:e.target.value}))})}),(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:"Dodaj"})})]}),(0,m.jsx)("h5",{children:"Historia transakcji"}),(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-striped table-hover",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Data"}),(0,m.jsx)("th",{children:"Typ"}),(0,m.jsx)("th",{children:"Opis"}),(0,m.jsx)("th",{children:"Kwota"}),(0,m.jsx)("th",{children:"Kategoria"}),(0,m.jsx)("th",{children:"Akcje"})]})}),(0,m.jsx)("tbody",{children:s.map(e=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:new Date(e.created_at).toLocaleString()}),(0,m.jsx)("td",{children:e.type}),(0,m.jsx)("td",{children:e.description}),(0,m.jsxs)("td",{children:[e.amount.toFixed(2)," z\u0142"]}),(0,m.jsx)("td",{children:e.category}),(0,m.jsxs)("td",{children:[(0,m.jsx)("button",{className:"btn btn-primary btn-sm me-2",onClick:()=>E(e),children:"Edytuj"}),(0,m.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>(async e=>{if(window.confirm("Czy na pewno chcesz usun\u0105\u0107 t\u0119 transakcj\u0119?")){const{error:a}=await l.N.from("transactions").delete().eq("id",e);a?(console.error("Error deleting transaction:",a),alert("Nie uda\u0142o si\u0119 usun\u0105\u0107 transakcji.")):q()}})(e.id),children:"Usu\u0144"})]})]},e.id))})]})}),F&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:(0,m.jsx)("div",{className:"modal-dialog",children:(0,m.jsx)("div",{className:"modal-content",children:(0,m.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const{id:a,type:s,description:t,amount:r,category:n}=F;if(!t||!r)return void alert("Opis i kwota s\u0105 wymagane.");const{error:c}=await l.N.from("transactions").update({type:s,description:t,amount:parseFloat(r),category:n}).eq("id",a);c?(console.error("Error updating transaction:",c),alert("Nie uda\u0142o si\u0119 zaktualizowa\u0107 transakcji.")):(E(null),q())},children:[(0,m.jsxs)("div",{className:"modal-header",children:[(0,m.jsx)("h5",{className:"modal-title",children:"Edytuj Transakcj\u0119"}),(0,m.jsx)("button",{type:"button",className:"btn-close",onClick:()=>E(null)})]}),(0,m.jsxs)("div",{className:"modal-body",children:[(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("label",{className:"form-label",children:"Typ"}),(0,m.jsxs)("select",{className:"form-select",value:F.type,onChange:e=>E((0,d.A)((0,d.A)({},F),{},{type:e.target.value})),children:[(0,m.jsx)("option",{value:"expense",children:"Wydatek"}),(0,m.jsx)("option",{value:"income",children:"Doch\xf3d"})]})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("label",{className:"form-label",children:"Opis"}),(0,m.jsx)("input",{type:"text",className:"form-control",value:F.description,onChange:e=>E((0,d.A)((0,d.A)({},F),{},{description:e.target.value}))})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("label",{className:"form-label",children:"Kwota"}),(0,m.jsx)("input",{type:"number",className:"form-control",value:F.amount,onChange:e=>E((0,d.A)((0,d.A)({},F),{},{amount:e.target.value}))})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("label",{className:"form-label",children:"Kategoria"}),(0,m.jsx)("input",{type:"text",className:"form-control",value:F.category||"",onChange:e=>E((0,d.A)((0,d.A)({},F),{},{category:e.target.value}))})]})]}),(0,m.jsxs)("div",{className:"modal-footer",children:[(0,m.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>E(null),children:"Anuluj"}),(0,m.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Zapisz zmiany"})]})]})})})}),(0,m.jsx)("div",{className:"modal-backdrop fade show",onClick:()=>E(null)})]}),(0,m.jsx)("h5",{className:"mt-5",children:"Zarz\u0105dzanie Bud\u017cetami"}),(0,m.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!N.category||!N.limit)return void alert("Kategoria i limit s\u0105 wymagane.");const{data:s,error:t}=await l.N.from("budgets").insert({user_id:a.id,category:N.category,limit:parseFloat(N.limit)});t?(console.error("Error adding budget:",t),alert("Nie uda\u0142o si\u0119 doda\u0107 bud\u017cetu.")):(y({category:"",limit:""}),P())},className:"row g-3 mb-4",children:[(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsx)("input",{type:"text",className:"form-control",placeholder:"Kategoria bud\u017cetu",value:N.category,onChange:e=>y((0,d.A)((0,d.A)({},N),{},{category:e.target.value})),required:!0})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsx)("input",{type:"number",className:"form-control",placeholder:"Limit kwoty",value:N.limit,onChange:e=>y((0,d.A)((0,d.A)({},N),{},{limit:e.target.value})),required:!0})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsx)("button",{type:"submit",className:"btn btn-success w-100",children:"Dodaj Bud\u017cet"})})]}),(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-striped table-hover",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Kategoria"}),(0,m.jsx)("th",{children:"Limit"}),(0,m.jsx)("th",{children:"Wydano"}),(0,m.jsx)("th",{children:"Pozosta\u0142o"}),(0,m.jsx)("th",{children:"Procent"}),(0,m.jsx)("th",{children:"Akcje"})]})}),(0,m.jsx)("tbody",{children:b.map((e,a)=>{const t=s.filter(a=>"expense"===a.type&&a.category===e.category).reduce((e,a)=>e+a.amount,0),r=e.limit-t,n=t/e.limit*100;return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:e.category}),(0,m.jsxs)("td",{children:[e.limit.toFixed(2)," z\u0142"]}),(0,m.jsxs)("td",{children:[t.toFixed(2)," z\u0142"]}),(0,m.jsxs)("td",{className:r<0?"text-danger":"",children:[r.toFixed(2)," z\u0142"]}),(0,m.jsx)("td",{children:(0,m.jsx)("div",{className:"progress",children:(0,m.jsxs)("div",{className:"progress-bar ".concat(n>100?"bg-danger":"bg-info"),role:"progressbar",style:{width:"".concat(Math.min(n,100),"%")},"aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100",children:[n.toFixed(1),"%"]})})}),(0,m.jsx)("td",{children:(0,m.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>(async e=>{if(window.confirm("Czy na pewno chcesz usun\u0105\u0107 ten bud\u017cet?")){const{error:a}=await l.N.from("budgets").delete().eq("id",e);a?(console.error("Error deleting budget:",a),alert("Nie uda\u0142o si\u0119 usun\u0105\u0107 bud\u017cetu.")):P()}})(e.id),children:"Usu\u0144"})})]},a)})})]})}),(0,m.jsx)("h5",{className:"mt-5",children:"Zaplanowane Transakcje"}),(0,m.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!w.description||!w.amount||!w.nextDueDate)return void alert("Opis, kwota i nast\u0119pna data s\u0105 wymagane.");const{data:s,error:t}=await l.N.from("scheduled_transactions").insert({user_id:a.id,type:w.type,description:w.description,amount:parseFloat(w.amount),category:w.category,frequency:w.frequency,next_due_date:w.nextDueDate});t?(console.error("Error adding scheduled transaction:",t),alert("Nie uda\u0142o si\u0119 doda\u0107 zaplanowanej transakcji.")):(k({type:"expense",description:"",amount:"",category:"",frequency:"monthly",nextDueDate:""}),K())},className:"row g-3 mb-4",children:[(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsxs)("select",{className:"form-select",value:w.type,onChange:e=>k((0,d.A)((0,d.A)({},w),{},{type:e.target.value})),children:[(0,m.jsx)("option",{value:"expense",children:"Wydatek"}),(0,m.jsx)("option",{value:"income",children:"Doch\xf3d"})]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)("input",{type:"text",className:"form-control",placeholder:"Opis",value:w.description,onChange:e=>k((0,d.A)((0,d.A)({},w),{},{description:e.target.value})),required:!0})}),(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsx)("input",{type:"number",className:"form-control",placeholder:"Kwota",value:w.amount,onChange:e=>k((0,d.A)((0,d.A)({},w),{},{amount:e.target.value})),required:!0})}),(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsx)("input",{type:"text",className:"form-control",placeholder:"Kategoria",value:w.category,onChange:e=>k((0,d.A)((0,d.A)({},w),{},{category:e.target.value}))})}),(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsxs)("select",{className:"form-select",value:w.frequency,onChange:e=>k((0,d.A)((0,d.A)({},w),{},{frequency:e.target.value})),children:[(0,m.jsx)("option",{value:"monthly",children:"Miesi\u0119cznie"}),(0,m.jsx)("option",{value:"weekly",children:"Tygodniowo"}),(0,m.jsx)("option",{value:"quarterly",children:"Kwartalnie"}),(0,m.jsx)("option",{value:"yearly",children:"Rocznie"})]})}),(0,m.jsx)("div",{className:"col-md-1",children:(0,m.jsx)("input",{type:"date",className:"form-control",value:w.nextDueDate,onChange:e=>k((0,d.A)((0,d.A)({},w),{},{nextDueDate:e.target.value})),required:!0})}),(0,m.jsx)("div",{className:"col-md-12",children:(0,m.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:"Dodaj Zaplanowan\u0105 Transakcj\u0119"})})]}),(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-striped table-hover",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Typ"}),(0,m.jsx)("th",{children:"Opis"}),(0,m.jsx)("th",{children:"Kwota"}),(0,m.jsx)("th",{children:"Kategoria"}),(0,m.jsx)("th",{children:"Cz\u0119stotliwo\u015b\u0107"}),(0,m.jsx)("th",{children:"Nast\u0119pna Data"}),(0,m.jsx)("th",{children:"Akcje"})]})}),(0,m.jsx)("tbody",{children:v.map((e,a)=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:e.type}),(0,m.jsx)("td",{children:e.description}),(0,m.jsxs)("td",{children:[e.amount.toFixed(2)," z\u0142"]}),(0,m.jsx)("td",{children:e.category}),(0,m.jsx)("td",{children:e.frequency}),(0,m.jsx)("td",{children:e.nextDueDate}),(0,m.jsx)("td",{children:(0,m.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>(async e=>{if(window.confirm("Czy na pewno chcesz usun\u0105\u0107 t\u0119 zaplanowan\u0105 transakcj\u0119?")){const{error:a}=await l.N.from("scheduled_transactions").delete().eq("id",e);a?(console.error("Error deleting scheduled transaction:",a),alert("Nie uda\u0142o si\u0119 usun\u0105\u0107 zaplanowanej transakcji.")):K()}})(e.id),children:"Usu\u0144"})})]},a))})]})}),(0,m.jsx)("h5",{className:"mt-5",children:"Top 5 Wydatk\xf3w wg Kategorii"}),(0,m.jsx)("div",{className:"table-responsive mb-4",children:(0,m.jsxs)("table",{className:"table table-striped table-hover",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Kategoria"}),(0,m.jsx)("th",{children:"Kwota"})]})}),(0,m.jsx)("tbody",{children:Object.entries(s.filter(e=>"expense"===e.type).reduce((e,a)=>(e[a.category]=(e[a.category]||0)+a.amount,e),{})).sort((e,a)=>{let[,s]=e,[,t]=a;return t-s}).slice(0,5).map(e=>{let[a,s]=e;return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:a}),(0,m.jsxs)("td",{children:[s.toFixed(2)," z\u0142"]})]},a)})})]})}),(0,m.jsx)("h5",{className:"mt-5",children:"Dochody wg Kategorii"}),(0,m.jsx)("div",{className:"table-responsive mb-4",children:(0,m.jsxs)("table",{className:"table table-striped table-hover",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Kategoria"}),(0,m.jsx)("th",{children:"Kwota"})]})}),(0,m.jsx)("tbody",{children:Object.entries(s.filter(e=>"income"===e.type).reduce((e,a)=>(e[a.category]=(e[a.category]||0)+a.amount,e),{})).sort((e,a)=>{let[,s]=e,[,t]=a;return t-s}).map(e=>{let[a,s]=e;return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:a}),(0,m.jsxs)("td",{children:[s.toFixed(2)," z\u0142"]})]},a)})})]})})]})};o.t1.register(o.PP,o.kc,o.E8,o.Bs,o.FN,o.No,o.hE,o.m_,o.s$);const p=e=>{if(null===e||void 0===e)return 0;const a=parseFloat(String(e).replace(",",".").replace(" z\u0142",""));return isNaN(a)?0:a},b=e=>{let{orders:a}=e;const s=a.reduce((e,a)=>(e[a.status]=(e[a.status]||0)+1,e),{}),t={labels:Object.keys(s),datasets:[{label:"Liczba zam\xf3wie\u0144 wg statusu",data:Object.values(s),backgroundColor:"rgba(75, 192, 192, 0.6)"}]};return(0,m.jsx)("div",{className:"card mt-4",children:(0,m.jsx)("div",{className:"card-body",children:(0,m.jsx)(c.yP,{data:t,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Zam\xf3wienia wg statusu"}}}})})})},g=e=>{let{stats:a}=e;return(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"card text-white bg-primary mb-3",children:[(0,m.jsx)("div",{className:"card-header",children:"Wszystkie zam\xf3wienia"}),(0,m.jsx)("div",{className:"card-body",children:(0,m.jsx)("h5",{className:"card-title",children:a.totalOrders})})]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"card text-white bg-warning mb-3",children:[(0,m.jsx)("div",{className:"card-header",children:"Nowe zam\xf3wienia"}),(0,m.jsx)("div",{className:"card-body",children:(0,m.jsx)("h5",{className:"card-title",children:a.newOrders})})]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"card text-white bg-success mb-3",children:[(0,m.jsx)("div",{className:"card-header",children:"Zako\u0144czone zam\xf3wienia"}),(0,m.jsx)("div",{className:"card-body",children:(0,m.jsx)("h5",{className:"card-title",children:a.completedOrders})})]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"card text-white bg-info mb-3",children:[(0,m.jsx)("div",{className:"card-header",children:"Ca\u0142kowity przych\xf3d"}),(0,m.jsx)("div",{className:"card-body",children:(0,m.jsxs)("h5",{className:"card-title",children:[(a.totalRevenue||0).toFixed(2)," z\u0142"]})})]})})]})},N=()=>{const{user:e,isAdmin:a,loading:s,signOut:c}=(0,r.A)(),i=(0,n.Zp)(),[o,d]=(0,t.useState)([]),[h,u]=(0,t.useState)(!0),[x,N]=(0,t.useState)(null),y=(0,t.useCallback)(async()=>{u(!0),N(null);try{const e="".concat("/Rex3DDD","/products.json"),a=await fetch(e);if(!a.ok)throw new Error("HTTP error! status: ".concat(a.status));const s=await a.json();d(Array.isArray(s)?s:[])}catch(e){console.error("Error fetching products.json:",e),d([]),N(e)}finally{u(!1)}},[]);(0,t.useEffect)(()=>{y()},[y]);const[v,f]=(0,t.useState)([]),[w,k]=(0,t.useState)("loading"),[C,z]=(0,t.useState)(""),[_,S]=(0,t.useState)("all"),[D,A]=(0,t.useState)(1),[F,E]=(0,t.useState)(1),O=["all","nowe","wycena w toku","oczekiwanie na akceptacj\u0119","zaakceptowane","odrzucone","w realizacji","wstrzymane","gotowe do odbioru","zako\u0144czone","anulowane"],[q,P]=(0,t.useState)(null),[K,W]=(0,t.useState)(""),[Z,B]=(0,t.useState)(""),[T,L]=(0,t.useState)([]),[I,M]=(0,t.useState)(""),[R,U]=(0,t.useState)([]),[H,$]=(0,t.useState)({totalOrders:0,newOrders:0,completedOrders:0,totalRevenue:0}),[Q,G]=(0,t.useState)(""),[J,V]=(0,t.useState)("all"),[X,Y]=(0,t.useState)("all"),[ee,ae]=(0,t.useState)(!1),[se,te]=(0,t.useState)(!1),[re,le]=(0,t.useState)(!1),[ne,ce]=(0,t.useState)("default"),[ie,oe]=(0,t.useState)(!1),[de,me]=(0,t.useState)(!1),[he,ue]=(0,t.useState)(!1),[xe,je]=(0,t.useState)({startDate:"",endDate:""}),[pe,be]=(0,t.useState)("all"),[ge,Ne]=(0,t.useState)(null),[ye,ve]=(0,t.useState)([]),[fe,we]=(0,t.useState)({type:"expense",description:"",amount:"",category:""}),[ke,Ce]=(0,t.useState)({totalIncome:0,totalExpenses:0,netProfit:0}),[ze,_e]=(0,t.useState)(1e4),[Se,De]=(0,t.useState)([]),[Ae,Fe]=(0,t.useState)({category:"",limit:""}),[Ee,Oe]=(0,t.useState)([]),[qe,Pe]=(0,t.useState)({type:"expense",description:"",amount:"",category:"",frequency:"monthly",nextDueDate:""}),[Ke,We]=((0,t.useMemo)(()=>{const e=ye.map(e=>e.category).filter(Boolean);return["all",...Array.from(new Set(e))]},[ye]),(0,t.useState)("orders")),Ze=(0,t.useCallback)(async()=>{oe(!0),k("loading");try{let e=l.N.from("custom_orders").select("*",{count:"exact"});if(C){const a=C.replace(/%/g,"\\%").replace(/'/g,"''");e=e.or("order_id.ilike.%".concat(a,"%,customer_name.ilike.%").concat(a,"%,customer_email.ilike.%").concat(a,"%"))}"all"!==_&&(e=e.eq("status",_));const a=10*(D-1),s=a+10-1;e=e.order("created_at",{ascending:!1}).range(a,s);const{data:t,error:r,count:n}=await e;r?(console.error("Error fetching orders:",r),k("error")):(f(t||[]),E(n?Math.ceil(n/10):1),k("success"))}catch(e){console.error("Error in fetchOrders:",e),k("error")}finally{oe(!1)}},[C,_,D,10]),Be=(0,t.useCallback)(async()=>{me(!0);try{const{data:e,error:a}=await l.N.from("custom_orders").select("*");a?console.error("Error fetching all orders:",a):U(e||[])}catch(e){console.error(e)}finally{me(!1)}},[]),Te=(0,t.useCallback)(()=>{const e=R.length,a=R.filter(e=>"nowe"===e.status).length,s=R.filter(e=>"zako\u0144czone"===e.status).length,t=R.filter(e=>"zako\u0144czone"===e.status&&e.quote_price).reduce((e,a)=>e+parseFloat(a.quote_price||0),0);$({totalOrders:e,newOrders:a,completedOrders:s,totalRevenue:t})},[R]),Le=(0,t.useCallback)(()=>{const e=ye.filter(e=>"income"===e.type).reduce((e,a)=>e+(parseFloat(a.amount)||0),0),a=ye.filter(e=>"expense"===e.type).reduce((e,a)=>e+(parseFloat(a.amount)||0),0);Ce({totalIncome:e,totalExpenses:a,netProfit:e-a})},[ye]),Ie=(0,t.useCallback)(async()=>{try{let e=l.N.from("transactions").select("*");xe.startDate&&(e=e.gte("created_at",xe.startDate)),xe.endDate&&(e=e.lte("created_at",xe.endDate)),"all"!==pe&&(e=e.eq("category",pe));const{data:a,error:s}=await e.order("created_at",{ascending:!1});s?console.error("Error fetching transactions:",s):ve(a||[])}catch(e){console.error(e)}},[xe,pe]),Me=(0,t.useCallback)(async()=>{if(e)try{const{data:a,error:s}=await l.N.from("budgets").select("*").eq("user_id",e.id);s?console.error("Error fetching budgets:",s):De(a||[])}catch(a){console.error(a)}},[e]),Re=(0,t.useCallback)(async()=>{if(e)try{const{data:a,error:s}=await l.N.from("scheduled_transactions").select("*").eq("user_id",e.id);s?console.error("Error fetching scheduled transactions:",s):Oe(a||[])}catch(a){console.error(a)}},[e]),Ue=(0,t.useMemo)(()=>{let e=o||[];return Q&&(e=e.filter(e=>(e.name||"").toLowerCase().includes(Q.toLowerCase())||(e.description||"").toLowerCase().includes(Q.toLowerCase())||e.sku&&e.sku.toString().includes(Q))),"all"!==J&&(e=e.filter(e=>e.category===J)),"all"!==X&&(e=e.filter(e=>(e.colorOptions||[]).includes(X))),ee&&(e=e.filter(e=>{return!(!(a=e)||!a.heightOptions)&&a.heightOptions.some(e=>Boolean(e&&(e.promoPrice||e.promo_price)));var a})),se&&(e=e.filter(e=>e.isNew)),re&&(e=e.filter(e=>e.isBestseller)),e.sort((e,a)=>{var s,t,r,l;const n=e.promoPrice?p(e.promoPrice):p(null===(s=e.heightOptions)||void 0===s||null===(t=s[0])||void 0===t?void 0:t.price),c=a.promoPrice?p(a.promoPrice):p(null===(r=a.heightOptions)||void 0===r||null===(l=r[0])||void 0===l?void 0:l.price);switch(ne){case"price-asc":return n-c;case"price-desc":return c-n;case"name-asc":return(e.name||"").localeCompare(a.name||"");case"name-desc":return(a.name||"").localeCompare(e.name||"");default:return 0}})},[o,Q,J,X,ee,se,re,ne]),He=(0,t.useMemo)(()=>{const e=(o||[]).map(e=>e.category).filter(Boolean);return["all",...Array.from(new Set(e))]},[o]),$e=(0,t.useMemo)(()=>{const e=(o||[]).flatMap(e=>e.colorOptions||[]);return["all",...Array.from(new Set(e))]},[o]);(0,t.useEffect)(()=>{s||(e?a?"orders"===Ke?(Ze(),Be()):"stats"===Ke?Be():"finances"===Ke&&(Ie(),Me(),Re()):(i("/"),alert("Brak dost\u0119pu. Tylko administratorzy mog\u0105 przegl\u0105da\u0107 ten panel.")):i("/admin-login"))},[e,a,s,i,Ze,Be,Ke,Ie,Me,Re]),(0,t.useEffect)(()=>{R.length>0&&Te()},[R,Te]),(0,t.useEffect)(()=>{ye.length>0&&Le()},[ye,Le]),(0,t.useEffect)(()=>{if(q){W(q.quote_price||""),B(q.admin_comment||"");(async()=>{const{data:e,error:a}=await l.N.from("order_comments").select("*").eq("order_id",q.order_id).order("created_at",{ascending:!0});a?(console.error("Error fetching modal comments:",a),L([])):L(e||[])})()}else L([])},[q]);const Qe=async()=>{if(!q)return;const e=parseFloat(K),a=isNaN(e)?null:e,{error:s}=await l.N.from("custom_orders").update({quote_price:a,admin_comment:Z}).eq("order_id",q.order_id);s?(console.error("Error saving order details:",s),alert("Nie uda\u0142o si\u0119 zapisa\u0107 szczeg\xf3\u0142\xf3w zam\xf3wienia.")):(P(null),Ze())},Ge=async e=>{if(e.preventDefault(),!I.trim()||!q)return;const{data:a,error:s}=await l.N.from("order_comments").insert([{order_id:q.order_id,comment_text:I,is_admin_comment:!0}]);if(s)console.error("Error submitting admin comment:",s),alert("Nie uda\u0142o si\u0119 wys\u0142a\u0107 komentarza administratora.");else{M("");const{data:e,error:a}=await l.N.from("order_comments").select("*").eq("order_id",q.order_id).order("created_at",{ascending:!0});a?console.error("Error re-fetching comments after submission:",a):L(e||[])}};return s||!e&&!s||!a&&!s?(0,m.jsx)("div",{className:"container mt-5 pt-5 text-center",children:(0,m.jsx)("p",{children:"\u0141adowanie panelu..."})}):(0,m.jsxs)("div",{className:"container-fluid mt-5 pt-5",children:[(0,m.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,m.jsx)("h2",{children:"Panel Administratora"}),(0,m.jsx)("button",{onClick:async()=>{await c(),i("/")},className:"btn btn-outline-danger",children:"Wyloguj"})]}),(0,m.jsxs)("ul",{className:"nav nav-tabs mb-4",children:[(0,m.jsx)("li",{className:"nav-item",children:(0,m.jsx)("button",{className:"nav-link ".concat("orders"===Ke?"active":""),onClick:()=>We("orders"),children:"Zarz\u0105dzaj Zam\xf3wieniami"})}),(0,m.jsx)("li",{className:"nav-item",children:(0,m.jsx)("button",{className:"nav-link ".concat("products"===Ke?"active":""),onClick:()=>We("products"),children:"Przegl\u0105daj Produkty"})}),(0,m.jsx)("li",{className:"nav-item",children:(0,m.jsx)("button",{className:"nav-link ".concat("stats"===Ke?"active":""),onClick:()=>We("stats"),children:"Statystyki"})}),(0,m.jsx)("li",{className:"nav-item",children:(0,m.jsx)("button",{className:"nav-link ".concat("finances"===Ke?"active":""),onClick:()=>We("finances"),children:"Finanse"})})]}),(()=>{switch(Ke){case"orders":return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsx)("input",{type:"text",className:"form-control",placeholder:"Szukaj po ID, nazwie klienta, emailu...",value:C,onChange:e=>z(e.target.value)})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)("select",{className:"form-select",value:_,onChange:e=>S(e.target.value),children:O.map(e=>(0,m.jsx)("option",{value:e,children:"all"===e?"Wszystkie statusy":e},e))})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)("button",{className:"btn btn-outline-primary w-100",onClick:Ze,children:"Od\u015bwie\u017c"})})]}),"loading"===w&&(0,m.jsx)("p",{children:"\u0141adowanie zam\xf3wie\u0144..."}),"error"===w&&(0,m.jsx)("div",{className:"alert alert-danger",children:"Nie uda\u0142o si\u0119 za\u0142adowa\u0107 zam\xf3wie\u0144."}),"success"===w&&0===v.length&&(0,m.jsx)("p",{children:"Brak zam\xf3wie\u0144 niestandardowych."}),"success"===w&&v.length>0&&(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-striped table-hover",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"ID Zam\xf3wienia"}),(0,m.jsx)("th",{children:"Klient"}),(0,m.jsx)("th",{children:"Email"}),(0,m.jsx)("th",{children:"Status"}),(0,m.jsx)("th",{children:"Z\u0142o\u017cono"}),(0,m.jsx)("th",{children:"Akcje"})]})}),(0,m.jsx)("tbody",{children:v.map(e=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:e.order_id}),(0,m.jsx)("td",{children:e.customer_name}),(0,m.jsx)("td",{children:e.customer_email}),(0,m.jsx)("td",{children:(0,m.jsx)("select",{className:"form-select form-select-sm",value:e.status,onChange:a=>(async(e,a)=>{const{error:s}=await l.N.from("custom_orders").update({status:a}).eq("order_id",e);s?(console.error("Error updating status:",s),alert("Nie uda\u0142o si\u0119 zaktualizowa\u0107 statusu.")):Ze()})(e.order_id,a.target.value),children:O.filter(e=>"all"!==e).map(e=>(0,m.jsx)("option",{value:e,children:e},e))})}),(0,m.jsx)("td",{children:new Date(e.created_at).toLocaleString()}),(0,m.jsxs)("td",{children:[(0,m.jsx)("button",{className:"btn btn-info btn-sm me-2",onClick:()=>P(e),children:"Szczeg\xf3\u0142y"}),(0,m.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>(async e=>{if(window.confirm("Czy na pewno chcesz usun\u0105\u0107 zam\xf3wienie ".concat(e,"?"))){const{error:a}=await l.N.from("custom_orders").delete().eq("order_id",e);a?(console.error("Error deleting order:",a),alert("Nie uda\u0142o si\u0119 usun\u0105\u0107 zam\xf3wienia.")):Ze()}})(e.order_id),children:"Usu\u0144"})]})]},e.order_id))})]})}),"success"===w&&F>1&&(0,m.jsx)("nav",{children:(0,m.jsxs)("ul",{className:"pagination justify-content-center",children:[(0,m.jsx)("li",{className:"page-item ".concat(1===D?"disabled":""),children:(0,m.jsx)("button",{className:"page-link",onClick:()=>A(D-1),children:"Poprzednia"})}),[...Array(F)].map((e,a)=>(0,m.jsx)("li",{className:"page-item ".concat(D===a+1?"active":""),children:(0,m.jsx)("button",{className:"page-link",onClick:()=>A(a+1),children:a+1})},a)),(0,m.jsx)("li",{className:"page-item ".concat(D===F?"disabled":""),children:(0,m.jsx)("button",{className:"page-link",onClick:()=>A(D+1),children:"Nast\u0119pna"})})]})}),q&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:(0,m.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:(0,m.jsxs)("div",{className:"modal-content",children:[(0,m.jsxs)("div",{className:"modal-header",children:[(0,m.jsxs)("h5",{className:"modal-title",children:["Szczeg\xf3\u0142y Zam\xf3wienia: ",q.order_id]}),(0,m.jsx)("button",{type:"button",className:"btn-close",onClick:()=>P(null)})]}),(0,m.jsxs)("div",{className:"modal-body",children:[(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Klient:"})," ",q.customer_name]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Email:"})," ",q.customer_email]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Status:"})," ",q.status]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Opis:"})," ",q.description]}),q.sku&&(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"SKU:"})," ",q.sku]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Wymiary:"})," ",q.dimensions||"-"]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Kolor:"})," ",(0,m.jsx)("span",{style:{backgroundColor:q.color_hex,padding:"2px 8px",borderRadius:"3px",border:"1px solid #ccc"},children:q.color_hex})]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Przeznaczenie:"})," ",q.purpose||"-"]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Materia\u0142:"})," ",q.material||"-"]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Precyzja:"})," ",q.precision||"-"]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Ilo\u015b\u0107:"})," ",q.quantity||"-"]}),q.file_url&&(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Plik:"})," ",(0,m.jsx)("a",{href:q.file_url,target:"_blank",rel:"noopener noreferrer",children:"Pobierz plik"})]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Z\u0142o\u017cono:"})," ",new Date(q.created_at).toLocaleString()]}),(0,m.jsx)("hr",{className:"my-3"}),(0,m.jsx)("h6",{children:"Edycja Administratora:"}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("label",{htmlFor:"quotePrice",className:"form-label",children:"Wycena (z\u0142)"}),(0,m.jsx)("input",{type:"text",className:"form-control",id:"quotePrice",value:K,onChange:e=>W(e.target.value)})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("label",{htmlFor:"adminComment",className:"form-label",children:"Komentarz Administratora"}),(0,m.jsx)("textarea",{className:"form-control",id:"adminComment",rows:"3",value:Z,onChange:e=>B(e.target.value)})]}),T.length>0&&(0,m.jsxs)("div",{className:"mt-4",children:[(0,m.jsx)("h6",{children:"Historia Komentarzy:"}),(0,m.jsx)("div",{className:"list-group",children:T.map(e=>(0,m.jsxs)("div",{className:"list-group-item list-group-item-action flex-column align-items-start",children:[(0,m.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[(0,m.jsx)("h6",{className:"mb-1",children:e.is_admin_comment?"Administrator":"Klient"}),(0,m.jsx)("small",{className:"text-muted",children:new Date(e.created_at).toLocaleString()})]}),(0,m.jsx)("p",{className:"mb-1",children:e.comment_text})]},e.id))})]}),(0,m.jsxs)("div",{className:"mt-4",children:[(0,m.jsx)("h6",{children:"Dodaj Komentarz Administratora:"}),(0,m.jsxs)("form",{onSubmit:Ge,children:[(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Wpisz sw\xf3j komentarz...",value:I,onChange:e=>M(e.target.value),required:!0})}),(0,m.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!I.trim(),children:"Wy\u015blij Komentarz"})]})]})]}),(0,m.jsxs)("div",{className:"modal-footer",children:[(0,m.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>P(null),children:"Zamknij"}),(0,m.jsx)("button",{type:"button",className:"btn btn-primary",onClick:Qe,children:"Zapisz zmiany"})]})]})})}),(0,m.jsx)("div",{className:"modal-backdrop fade show",onClick:()=>P(null)})]})]});case"products":return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsx)("input",{type:"text",className:"form-control",placeholder:"Szukaj produktu...",value:Q,onChange:e=>G(e.target.value)})}),(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsx)("select",{className:"form-select",value:J,onChange:e=>V(e.target.value),children:He.map(e=>(0,m.jsx)("option",{value:e,children:"all"===e?"Wszystkie kategorie":e},e))})}),(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsx)("select",{className:"form-select",value:X,onChange:e=>Y(e.target.value),children:$e.map(e=>(0,m.jsx)("option",{value:e,children:"all"===e?"Wszystkie kolory":e},e))})}),(0,m.jsxs)("div",{className:"col-md-4 d-flex align-items-center",children:[(0,m.jsxs)("div",{className:"form-check me-3",children:[(0,m.jsx)("input",{className:"form-check-input",type:"checkbox",id:"productFilterPromo",checked:ee,onChange:e=>ae(e.target.checked)}),(0,m.jsx)("label",{className:"form-check-label",htmlFor:"productFilterPromo",children:"Promocje"})]}),(0,m.jsxs)("div",{className:"form-check me-3",children:[(0,m.jsx)("input",{className:"form-check-input",type:"checkbox",id:"productFilterNew",checked:se,onChange:e=>te(e.target.checked)}),(0,m.jsx)("label",{className:"form-check-label",htmlFor:"productFilterNew",children:"Nowo\u015bci"})]}),(0,m.jsxs)("div",{className:"form-check",children:[(0,m.jsx)("input",{className:"form-check-input",type:"checkbox",id:"productFilterBestseller",checked:re,onChange:e=>le(e.target.checked)}),(0,m.jsx)("label",{className:"form-check-label",htmlFor:"productFilterBestseller",children:"Bestsellery"})]})]})]}),(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("select",{className:"form-select",value:ne,onChange:e=>ce(e.target.value),children:[(0,m.jsx)("option",{value:"default",children:"Sortuj produkty"}),(0,m.jsx)("option",{value:"name-asc",children:"Nazwa (A-Z)"}),(0,m.jsx)("option",{value:"name-desc",children:"Nazwa (Z-A)"}),(0,m.jsx)("option",{value:"price-asc",children:"Cena (rosn\u0105co)"}),(0,m.jsx)("option",{value:"price-desc",children:"Cena (malej\u0105co)"})]})}),(0,m.jsx)("div",{className:"col-md-9 text-end",children:(0,m.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>{G(""),V("all"),Y("all"),ae(!1),te(!1),le(!1),ce("default")},children:"Wyczy\u015b\u0107 filtry produkt\xf3w"})})]}),(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-striped table-hover",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"ID"}),(0,m.jsx)("th",{children:"SKU"}),(0,m.jsx)("th",{children:"Nazwa"}),(0,m.jsx)("th",{children:"Kategoria"}),(0,m.jsx)("th",{children:"Kolory"}),(0,m.jsx)("th",{children:"Opcje Wysoko\u015bci/Ceny"}),(0,m.jsx)("th",{children:"Cena Promocyjna"}),(0,m.jsx)("th",{children:"Nowo\u015b\u0107"}),(0,m.jsx)("th",{children:"Bestseller"})]})}),(0,m.jsx)("tbody",{children:Ue.map(e=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:e.id}),(0,m.jsx)("td",{children:e.sku}),(0,m.jsx)("td",{children:e.name}),(0,m.jsx)("td",{children:e.category}),(0,m.jsx)("td",{children:(e.colorOptions||[]).join(", ")}),(0,m.jsx)("td",{children:(e.heightOptions||[]).map(e=>(0,m.jsxs)("div",{children:[e.label,": ",e.price]},e.label))}),(0,m.jsx)("td",{children:e.heightOptions&&e.heightOptions.some(e=>e.promoPrice)?"Tak":"-"}),(0,m.jsx)("td",{children:e.isNew?"Tak":"Nie"}),(0,m.jsx)("td",{children:e.isBestseller?"Tak":"Nie"})]},e.id))})]})})]});case"stats":return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"d-flex justify-content-end mb-3",children:(0,m.jsx)("button",{className:"btn btn-outline-primary",onClick:Be,children:"Od\u015bwie\u017c"})}),(0,m.jsx)(g,{stats:H}),(0,m.jsx)(b,{orders:R})]});case"finances":return(0,m.jsx)(j,{user:e});default:return null}})()]})}}}]);
//# sourceMappingURL=256.317d75a8.chunk.js.map